{"ast":null,"code":"var _jsxFileName = \"D:\\\\Work\\\\Front End Development\\\\meal-planner-main\\\\src\\\\components\\\\DayCard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { fetchMealsForDay, removeMealByName, fetchMeals, fetchMealById, saveMeal } from '../services/mealServices';\nimport { useNavigate } from 'react-router-dom';\nimport addMealIcon from '../img/add-meal.png';\nimport deleteMealIcon from '../img/delete-meal.png';\nimport cancelIcon from '../img/cancel.png';\nimport '../styles/DayCard.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DayCard = ({\n  day,\n  gotMeals,\n  setGotMeals\n}) => {\n  _s();\n  const [meals, setMeals] = useState([]);\n  const [allMeals, setAllMeals] = useState([]);\n  const [selectedMealId, setSelectedMealId] = useState('');\n  const [showMealSelector, setShowMealSelector] = useState(false);\n  const navigate = useNavigate();\n  useEffect(() => {\n    fetchMealsForDay(day, setMeals);\n    fetchMeals(setAllMeals);\n  }, [day, gotMeals]);\n  const handleAddMeal = () => {\n    if (selectedMealId) {\n      fetchMealById(selectedMealId, mealData => {\n        if (mealData) {\n          saveMeal({\n            mealName: mealData.mealName,\n            recipe: mealData.recipe || \"\",\n            mealType: mealData.mealType,\n            day: day\n          }, () => {\n            console.log(`Meal added to ${day}`);\n            fetchMealsForDay(day, setMeals);\n            setGotMeals(gotMeals + 1);\n          });\n        } else {\n          console.error(\"Failed to fetch meal details for ID:\", selectedMealId);\n        }\n      });\n    }\n  };\n  const handleRemoveMeal = mealName => {\n    removeMealByName(day, mealName, () => {\n      console.log(\"hehehe\", day, mealName);\n      fetchMealsForDay(day, setMeals);\n      setGotMeals(gotMeals - 1);\n    });\n  };\n  const toggleMealSelector = () => {\n    setShowMealSelector(prev => !prev);\n  };\n  const viewMealDetails = mealName => {\n    navigate(`/meal-details/${encodeURIComponent(mealName)}`);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"day-card\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"day-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: day\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: toggleMealSelector,\n        className: \"add-meal-button\",\n        children: showMealSelector ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: cancelIcon,\n          alt: \"Cancel Meal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 41\n        }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n          src: addMealIcon,\n          alt: \"Add Meal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 86\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), showMealSelector && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"meal-selector\",\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        value: selectedMealId,\n        onChange: e => setSelectedMealId(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"meal?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 25\n        }, this), allMeals.map(meal => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: meal.id,\n          children: meal.mealName\n        }, meal.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 29\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleAddMeal,\n        children: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: meals.map(mealName => /*#__PURE__*/_jsxDEV(\"li\", {\n        onClick: () => viewMealDetails(mealName),\n        className: \"meal-item\",\n        children: [mealName, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => {\n            e.stopPropagation();\n            handleRemoveMeal(mealName);\n          },\n          className: \"remove-meal-button\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: deleteMealIcon,\n            alt: \"Delete Meal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 59\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 25\n        }, this)]\n      }, mealName, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n};\n_s(DayCard, \"3GiNAtI6GjCCiIqgyYG2DmZgD5o=\", false, function () {\n  return [useNavigate];\n});\n_c = DayCard;\nDayCard.propTypes = {\n  day: PropTypes.string.isRequired,\n  gotMeals: PropTypes.number,\n  setGotMeals: PropTypes.func.isRequired\n};\nexport default DayCard;\nvar _c;\n$RefreshReg$(_c, \"DayCard\");","map":{"version":3,"names":["React","useState","useEffect","PropTypes","fetchMealsForDay","removeMealByName","fetchMeals","fetchMealById","saveMeal","useNavigate","addMealIcon","deleteMealIcon","cancelIcon","jsxDEV","_jsxDEV","DayCard","day","gotMeals","setGotMeals","_s","meals","setMeals","allMeals","setAllMeals","selectedMealId","setSelectedMealId","showMealSelector","setShowMealSelector","navigate","handleAddMeal","mealData","mealName","recipe","mealType","console","log","error","handleRemoveMeal","toggleMealSelector","prev","viewMealDetails","encodeURIComponent","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","src","alt","value","onChange","e","target","map","meal","id","stopPropagation","_c","propTypes","string","isRequired","number","func","$RefreshReg$"],"sources":["D:/Work/Front End Development/meal-planner-main/src/components/DayCard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { fetchMealsForDay, removeMealByName, fetchMeals, fetchMealById, saveMeal } from '../services/mealServices';\nimport { useNavigate } from 'react-router-dom';\nimport addMealIcon from '../img/add-meal.png'; \nimport deleteMealIcon from '../img/delete-meal.png'; \nimport cancelIcon from '../img/cancel.png';\nimport '../styles/DayCard.scss';\n\nconst DayCard = ({ day, gotMeals, setGotMeals }) => {\n    const [meals, setMeals] = useState([]);\n    const [allMeals, setAllMeals] = useState([]);\n    const [selectedMealId, setSelectedMealId] = useState('');\n    const [showMealSelector, setShowMealSelector] = useState(false);\n    const navigate = useNavigate();  \n\n    useEffect(() => {\n        fetchMealsForDay(day, setMeals);   \n        fetchMeals(setAllMeals);          \n    }, [day, gotMeals]);\n\n    const handleAddMeal = () => {\n        if (selectedMealId) {\n            fetchMealById(selectedMealId, (mealData) => {\n                if (mealData) {\n                    saveMeal({\n                        mealName: mealData.mealName,\n                        recipe: mealData.recipe || \"\",\n                        mealType: mealData.mealType,\n                        day: day\n                    }, () => {\n                        console.log(`Meal added to ${day}`);\n                        fetchMealsForDay(day, setMeals);  \n                        setGotMeals(gotMeals + 1);        \n                    });\n                } else {\n                    console.error(\"Failed to fetch meal details for ID:\", selectedMealId);\n                }\n            });\n        }\n    };\n\n    const handleRemoveMeal = (mealName) => {\n        removeMealByName(day, mealName, () => {\n            console.log(\"hehehe\", day, mealName);\n            fetchMealsForDay(day, setMeals);  \n            setGotMeals(gotMeals - 1);       \n        });\n    };\n\n    const toggleMealSelector = () => {\n        setShowMealSelector(prev => !prev);\n    };\n\n    const viewMealDetails = (mealName) => {\n        navigate(`/meal-details/${encodeURIComponent(mealName)}`);\n    };\n\n    return (\n        <div className=\"day-card\">\n            <div className=\"day-header\">\n                <h4>{day}</h4>\n                <button onClick={toggleMealSelector} className=\"add-meal-button\">\n                    {showMealSelector ? <img src={cancelIcon} alt=\"Cancel Meal\" /> : <img src={addMealIcon} alt=\"Add Meal\" />}\n                </button>\n            </div>\n            {showMealSelector && (\n                <div className=\"meal-selector\">\n                    <select value={selectedMealId} onChange={(e) => setSelectedMealId(e.target.value)}>\n                        <option value=\"\">meal?</option>\n                        {allMeals.map((meal) => (\n                            <option key={meal.id} value={meal.id}>{meal.mealName}</option>\n                        ))}\n                    </select>\n                    <button onClick={handleAddMeal}>Add</button>\n                </div>\n            )}\n            <ul>\n                {meals.map((mealName) => (\n                    <li key={mealName} onClick={() => viewMealDetails(mealName)} className=\"meal-item\">\n                        {mealName}\n                        <button onClick={(e) => {\n                            e.stopPropagation();\n                            handleRemoveMeal(mealName);\n                        }} className=\"remove-meal-button\"><img src={deleteMealIcon} alt=\"Delete Meal\" /> </button>\n                    </li>\n                ))}\n            </ul>\n        </div>\n    );\n};\n\nDayCard.propTypes = {\n    day: PropTypes.string.isRequired,\n    gotMeals: PropTypes.number,\n    setGotMeals: PropTypes.func.isRequired\n};\n\nexport default DayCard;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,SAAS,MAAM,YAAY;AAClC,SAASC,gBAAgB,EAAEC,gBAAgB,EAAEC,UAAU,EAAEC,aAAa,EAAEC,QAAQ,QAAQ,0BAA0B;AAClH,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,WAAW,MAAM,qBAAqB;AAC7C,OAAOC,cAAc,MAAM,wBAAwB;AACnD,OAAOC,UAAU,MAAM,mBAAmB;AAC1C,OAAO,wBAAwB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhC,MAAMC,OAAO,GAAGA,CAAC;EAAEC,GAAG;EAAEC,QAAQ;EAAEC;AAAY,CAAC,KAAK;EAAAC,EAAA;EAChD,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACqB,QAAQ,EAAEC,WAAW,CAAC,GAAGtB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACuB,cAAc,EAAEC,iBAAiB,CAAC,GAAGxB,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAACyB,gBAAgB,EAAEC,mBAAmB,CAAC,GAAG1B,QAAQ,CAAC,KAAK,CAAC;EAC/D,MAAM2B,QAAQ,GAAGnB,WAAW,CAAC,CAAC;EAE9BP,SAAS,CAAC,MAAM;IACZE,gBAAgB,CAACY,GAAG,EAAEK,QAAQ,CAAC;IAC/Bf,UAAU,CAACiB,WAAW,CAAC;EAC3B,CAAC,EAAE,CAACP,GAAG,EAAEC,QAAQ,CAAC,CAAC;EAEnB,MAAMY,aAAa,GAAGA,CAAA,KAAM;IACxB,IAAIL,cAAc,EAAE;MAChBjB,aAAa,CAACiB,cAAc,EAAGM,QAAQ,IAAK;QACxC,IAAIA,QAAQ,EAAE;UACVtB,QAAQ,CAAC;YACLuB,QAAQ,EAAED,QAAQ,CAACC,QAAQ;YAC3BC,MAAM,EAAEF,QAAQ,CAACE,MAAM,IAAI,EAAE;YAC7BC,QAAQ,EAAEH,QAAQ,CAACG,QAAQ;YAC3BjB,GAAG,EAAEA;UACT,CAAC,EAAE,MAAM;YACLkB,OAAO,CAACC,GAAG,CAAE,iBAAgBnB,GAAI,EAAC,CAAC;YACnCZ,gBAAgB,CAACY,GAAG,EAAEK,QAAQ,CAAC;YAC/BH,WAAW,CAACD,QAAQ,GAAG,CAAC,CAAC;UAC7B,CAAC,CAAC;QACN,CAAC,MAAM;UACHiB,OAAO,CAACE,KAAK,CAAC,sCAAsC,EAAEZ,cAAc,CAAC;QACzE;MACJ,CAAC,CAAC;IACN;EACJ,CAAC;EAED,MAAMa,gBAAgB,GAAIN,QAAQ,IAAK;IACnC1B,gBAAgB,CAACW,GAAG,EAAEe,QAAQ,EAAE,MAAM;MAClCG,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEnB,GAAG,EAAEe,QAAQ,CAAC;MACpC3B,gBAAgB,CAACY,GAAG,EAAEK,QAAQ,CAAC;MAC/BH,WAAW,CAACD,QAAQ,GAAG,CAAC,CAAC;IAC7B,CAAC,CAAC;EACN,CAAC;EAED,MAAMqB,kBAAkB,GAAGA,CAAA,KAAM;IAC7BX,mBAAmB,CAACY,IAAI,IAAI,CAACA,IAAI,CAAC;EACtC,CAAC;EAED,MAAMC,eAAe,GAAIT,QAAQ,IAAK;IAClCH,QAAQ,CAAE,iBAAgBa,kBAAkB,CAACV,QAAQ,CAAE,EAAC,CAAC;EAC7D,CAAC;EAED,oBACIjB,OAAA;IAAK4B,SAAS,EAAC,UAAU;IAAAC,QAAA,gBACrB7B,OAAA;MAAK4B,SAAS,EAAC,YAAY;MAAAC,QAAA,gBACvB7B,OAAA;QAAA6B,QAAA,EAAK3B;MAAG;QAAA4B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eACdjC,OAAA;QAAQkC,OAAO,EAAEV,kBAAmB;QAACI,SAAS,EAAC,iBAAiB;QAAAC,QAAA,EAC3DjB,gBAAgB,gBAAGZ,OAAA;UAAKmC,GAAG,EAAErC,UAAW;UAACsC,GAAG,EAAC;QAAa;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,gBAAGjC,OAAA;UAAKmC,GAAG,EAAEvC,WAAY;UAACwC,GAAG,EAAC;QAAU;UAAAN,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACrG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACR,CAAC,EACLrB,gBAAgB,iBACbZ,OAAA;MAAK4B,SAAS,EAAC,eAAe;MAAAC,QAAA,gBAC1B7B,OAAA;QAAQqC,KAAK,EAAE3B,cAAe;QAAC4B,QAAQ,EAAGC,CAAC,IAAK5B,iBAAiB,CAAC4B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;QAAAR,QAAA,gBAC9E7B,OAAA;UAAQqC,KAAK,EAAC,EAAE;UAAAR,QAAA,EAAC;QAAK;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,EAC9BzB,QAAQ,CAACiC,GAAG,CAAEC,IAAI,iBACf1C,OAAA;UAAsBqC,KAAK,EAAEK,IAAI,CAACC,EAAG;UAAAd,QAAA,EAAEa,IAAI,CAACzB;QAAQ,GAAvCyB,IAAI,CAACC,EAAE;UAAAb,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAyC,CAChE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC,eACTjC,OAAA;QAAQkC,OAAO,EAAEnB,aAAc;QAAAc,QAAA,EAAC;MAAG;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3C,CACR,eACDjC,OAAA;MAAA6B,QAAA,EACKvB,KAAK,CAACmC,GAAG,CAAExB,QAAQ,iBAChBjB,OAAA;QAAmBkC,OAAO,EAAEA,CAAA,KAAMR,eAAe,CAACT,QAAQ,CAAE;QAACW,SAAS,EAAC,WAAW;QAAAC,QAAA,GAC7EZ,QAAQ,eACTjB,OAAA;UAAQkC,OAAO,EAAGK,CAAC,IAAK;YACpBA,CAAC,CAACK,eAAe,CAAC,CAAC;YACnBrB,gBAAgB,CAACN,QAAQ,CAAC;UAC9B,CAAE;UAACW,SAAS,EAAC,oBAAoB;UAAAC,QAAA,gBAAC7B,OAAA;YAAKmC,GAAG,EAAEtC,cAAe;YAACuC,GAAG,EAAC;UAAa;YAAAN,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,KAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA,GALrFhB,QAAQ;QAAAa,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAMb,CACP;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACJ,CAAC;AAEd,CAAC;AAAC5B,EAAA,CAjFIJ,OAAO;EAAA,QAKQN,WAAW;AAAA;AAAAkD,EAAA,GAL1B5C,OAAO;AAmFbA,OAAO,CAAC6C,SAAS,GAAG;EAChB5C,GAAG,EAAEb,SAAS,CAAC0D,MAAM,CAACC,UAAU;EAChC7C,QAAQ,EAAEd,SAAS,CAAC4D,MAAM;EAC1B7C,WAAW,EAAEf,SAAS,CAAC6D,IAAI,CAACF;AAChC,CAAC;AAED,eAAe/C,OAAO;AAAC,IAAA4C,EAAA;AAAAM,YAAA,CAAAN,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}